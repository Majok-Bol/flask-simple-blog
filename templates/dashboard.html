{%extends 'base.html'%} {%block body%}

<header
  class="sticky top-0 w-full left-0 text-center bg-gray-700 text-white p-4"
>
  <nav class="flex items-center gap-10">
    <a
      href="{{url_for('home')}}"
      class="hover:text-blue-400 hover:underline cursor-pointer"
      >Home</a
    >
    <a href="{{url_for('logout')}}" class="underline hover:text-blue-400"
      >Logout</a
    >
  </nav>
</header>
{% if current_user.is_authenticated%}
<p class="mt-4 mb-4 ml-2">
  Welcome <span class="font-semibold text-lg m-2">{{current_user.username}}</span> to your dashboard
</p>
{%endif%} {%if posts%}
<p><span class="m-1 font-semibold">Total posts:</span> {{posts|length}}</p>
{%for post in posts%}
<div class="border border-gray-400 m-2 p-1">
  <h2><span class="font-semibold m-2">Title:</span>{{post.title}}</h2>
  <div class="m-1 flex flex-row gap-2">
    <a
      href="{{url_for('edit_post',post_id=post.id)}}"
      class="underline text-blue-500"
      >Edit</a
    >
    <div>
      <form method="POST" action="{{url_for('delete_post',post_id=post.id)}}">
        <input type="hidden" name="csrf_token" value="{{csrf_token()}}" />
        <button
          type="submit"
          onClick="return confirm('Are you sure you want to delete this post?')"
          class="cursor-pointer text-red-600 underline"
        >
          Delete
        </button>
      </form>
    </div>
  </div>
</div>
{%endfor%} {%endif%} {%endblock%}
